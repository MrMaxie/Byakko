<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Maciej Maxie Mieńko">
        <title>Byakko</title>
        <link rel="icon" type="image/png" href="assets/_logo.png" >
        <link rel="stylesheet" href="assets/syntax-style.css" >
        <link rel="stylesheet" href="assets/style.css" >
        <link href="https://fonts.googleapis.com/css2?family=Fira+Code&amp;family=Fira+Sans:wght@200;400;700&amp;display=swap" rel="stylesheet">
        <script src="assets/wave.js"></script>
    </head>
    <body>
        <main id="welcome">
            <canvas id="wave"></canvas>
            <img src="assets/logo-text.png" alt="byakko" />
        </main>
        <aside>
            <div class="logo">
                <img src="assets/logo-text.png" alt="byakko" />
            </div>

            <div class="list">
                <a href="#welcome">
                    <badge type="e"></badge> <span>Welcome</span>
                </a>
                <div class="header"><span>Guides</span></div>
                
                    
                    <a href="#Get-Started">
                        <badge type=" "></badge> <span>Get Started</span>
                    </a>
                
                    
                    <a href="#Installation">
                        <badge type=" "></badge> <span>Installation</span>
                    </a>
                
                    
                    <a href="#Concept">
                        <badge type=" "></badge> <span>Concept</span>
                    </a>
                
                    
                    <a href="#Services">
                        <badge type=" "></badge> <span>Services</span>
                    </a>
                
                    
                    
                    
                    
                    
                    
                <div class="header"><span>API</span></div>
                
                    
                    
                    
                    
                    
                    <a href="#asAction">
                        <badge type="d"></badge> <span>asAction</span>
                    </a>
                
                    
                    <a href="#asController">
                        <badge type="d"></badge> <span>asController</span>
                    </a>
                
                    
                    <a href="#Each">
                        <badge type="c"></badge> <span>Each</span>
                    </a>
                
                    
                    <a href="#If">
                        <badge type="c"></badge> <span>If</span>
                    </a>
                
                    
                    <a href="#later">
                        <badge type="f"></badge> <span>later</span>
                    </a>
                
                    
                    <a href="#Unless">
                        <badge type="c"></badge> <span>Unless</span>
                    </a>
                
            </div>
        </aside>
        <div class="content">
            
                <h1 id="Get-Started">
                    <a href="#Get-Started">#</a>
                    Get Started
                </h1>
                <center>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 720 220">
    <rect
        x="20"
        y="20"
        width="680"
        height="180"
        rx="5"
        fill="#89023e20"
        stroke="#89023e"
    />
    <text
        x="360"
        y="170"
        fill="white"
        dominant-baseline="middle"
        text-anchor="middle"
    >
        Byakko
    </text>
    <rect
        x="40"
        y="40"
        width="200"
        height="100"
        rx="5"
        fill="#3178c620"
        stroke="#3178c6"
    />
    <text
        x="140"
        y="85"
        fill="white"
        dominant-baseline="middle"
        text-anchor="middle"
    >
        TypeScript
    </text>
    <rect
        x="260"
        y="40"
        width="200"
        height="100"
        rx="5"
        fill="#e2601320"
        stroke="#e26013"
    />
    <text
        x="360"
        y="85"
        fill="white"
        dominant-baseline="middle"
        text-anchor="middle"
    >
        MobX
    </text>
    <rect
        x="480"
        y="40"
        width="200"
        height="100"
        rx="5"
        fill="#673ab820"
        stroke="#673ab8"
    />
    <text
        x="580"
        y="85"
        fill="white"
        dominant-baseline="middle"
        text-anchor="middle"
    >
        Preact
    </text>
</svg>
</center>
<p><strong>Byakko</strong> is framework that allows you to create more controllable flow for <a href="https://en.wikipedia.org/wiki/Single-page_application">SPA</a> using built-in tools and required external libraries:</p>
<ol>
<li>
<p><strong><a href="https://preactjs.com/">Preact</a></strong> - As first point you need to use some library that is compatible with React API. You don't have to use React itself. Actually Preact is much much faster.</p>
</li>
<li>
<p><strong><a href="https://www.typescriptlang.org/">TypeScript</a></strong> - TypeScript allows us to create our code more readable and safe. It's required because of e.g decorators.</p>
</li>
<li>
<p><strong><a href="https://mobx.js.org/">MobX</a></strong> - MobX is powerful tool to create seamless storages/models in this frontend world. MobX itself performance aside, have single big problem. Programmers can mess up all flow by accident and create hell of loops. Byakko will help you to keep clean data flow.</p>
</li>
</ol>
<p>Byakko's second greatest advantage is the concept that mix multiple needed programming design patterns in cleanest possible way.</p>

            
                <h1 id="Installation">
                    <a href="#Installation">#</a>
                    Installation
                </h1>
                <p>We need of course to install required libraries and Byakko itself:</p>
<pre><code class="language-bash">npm install --save-exact byakko typescript mobx preact mobx-react
</code></pre>
<p>Also we need to set-up some compilation flow. You can to use TypeScript compilation ifself or some packing library like <a href="https://fuse-box.org/">Fuse-Box</a>.</p>
<p>Thats all!</p>

            
                <h1 id="Concept">
                    <a href="#Concept">#</a>
                    Concept
                </h1>
                <p>One of the most important thing in this project is concept of data flow. Generally in JS enviroments you don't have any predefinited structure. It's very flexible way, but it's easier to create mess. It's awesome when you can create own structure by basing on your needs, but, to be honest, in most cases in such dynamicaly created structures by multiple people, you can go crazy at searching something where what is located and how it exacly works. MVVM (Model View View-Model) magnifies this effect by mixing two worlds in a boundless way - the world of the interface and the world of data.</p>
<p>Byakko don't create borders for that flexibility, instead of that it rewards following the dreamiest path.</p>
<p>So Byakko splits all things into small pieces to keep everything on correct place.</p>
<center>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 830 380">
    <a href="#Services">
        <rect
            x="20"
            y="20"
            width="250"
            height="220"
            rx="5"
            fill="#ffd16620"
            stroke="#ffd166"
        />
        <text
            x="145"
            y="130"
            fill="white"
            dominant-baseline="middle"
            text-anchor="middle"
        >
            Services
        </text>
    </a>
    <a href="#Models">
        <rect
            x="290"
            y="20"
            width="520"
            height="100"
            rx="5"
            fill="#06d6a020"
            stroke="#06d6a0"
        />
        <text
            x="550"
            y="70"
            fill="white"
            dominant-baseline="middle"
            text-anchor="middle"
        >
            Models
        </text>
    </a>
    <path
        d="M 540 190, L 560 190"
        stroke="#89023e"
    />
    <path
        d="M 290 190, L 270 190"
        stroke="#89023e"
    />
    <a href="#Core">
        <rect
            x="290"
            y="140"
            width="250"
            height="100"
            rx="5"
            fill="#89023e20"
            stroke="#89023e"
            stroke-dasharray="10,5"
        />
        <text
            x="415"
            y="190"
            fill="white"
            dominant-baseline="middle"
            text-anchor="middle"
        >
            Core
        </text>
    </a>
    <path
        d="M 685 140, L 685 120"
        stroke="#5a189a"
    />
    <path
        d="M 685 240, L 685 260"
        stroke="#5a189a"
    />
    <a href="#Controllers">
        <rect
            x="560"
            y="140"
            width="250"
            height="100"
            rx="5"
            fill="#5a189a20"
            stroke="#5a189a"
        />
        <text
            x="685"
            y="190"
            fill="white"
            dominant-baseline="middle"
            text-anchor="middle"
        >
            Controllers
        </text>
    </a>
    <a href="#Views">
        <rect
            x="560"
            y="260"
            width="250"
            height="100"
            rx="5"
            fill="#0466c820"
            stroke="#0466c8"
        />
        <text
            x="685"
            y="310"
            fill="white"
            dominant-baseline="middle"
            text-anchor="middle"
        >
            Views
        </text>
    </a>
    <path
        d="M 145 240, L 145 260"
        stroke="#e01e37"
    />
    <a href="#Inspector">
        <rect
            x="20"
            y="260"
            width="250"
            height="100"
            rx="5"
            fill="#e01e3720"
            stroke="#e01e37"
        />
        <text
            x="145"
            y="310"
            fill="white"
            dominant-baseline="middle"
            text-anchor="middle"
        >
            Inspector
        </text>
    </a>
    <path
        d="M 540 310, L 560 310"
        stroke="#f7aef8"
    />
    <a href="#Components">
        <rect
            x="290"
            y="260"
            width="250"
            height="100"
            rx="5"
            fill="#f7aef820"
            stroke="#f7aef8"
        />
        <text
            x="415"
            y="310"
            fill="white"
            dominant-baseline="middle"
            text-anchor="middle"
        >
            Components
        </text>
    </a>
</svg><br/>
    (click section to jump to section)
</center>
<p>Most elements are common and well known, but don't be fooled, Byakko has a slightly different approach to it.</p>
<p>The recommended folder structure is following:</p>
<pre><code>app/
├── assets/
│   └── ...
│
├── components/
│   ├── ComponentName.pre.css
│   ├── ComponentName.pre.tsx
│   ├── ComponentName.post.css
│   ├── ComponentName.post.tsx
│   ├── ComponentName.css
│   └── ComponentName.tsx
│
├── controllers/
│   ├── index.ts
│   ├── controllerName.tsx
│   ├── auth.tsx
│   └── ...otherControllerName.tsx
│
├── services/
│   ├── index.ts
│   ├── router.ts
│   ├── auth.ts
│   ├── i18n.ts
│   ├── logger.ts
│   └── ...serviceName.ts
│
├── layouts/
│   ├── LayoutName.css
│   ├── LayoutName.tsx
│   ├── Logged.css
│   └── Logged.tsx
│
├── views/
│   ├── Login.css
│   └── Login.tsx
│
├── partials/
│   ├── Modal.css
│   └── Modal.tsx
│
└── models/
    ├── form/
    │   ├── Login.ts
    │   └── Register.ts
    ├── User.c.ts
    ├── User.ts
    └── Entry.ts
</code></pre>

            
                <h1 id="Services">
                    <a href="#Services">#</a>
                    Services
                </h1>
                <p>Services in most places are known as reusable utilities. It's also mostly true for Byakko. First of all, Service is also singleton here. In general services should make our live easier, be as deticated for current user/page etc as possible. Their content should change as rarely as possible and should not concern any single place on the page.</p>

            
                <h1 id="asAction">
                    <a href="#asAction">#</a>
                    asAction
                </h1>
                <p>Decorator that allows you to set-up method as action. Without that method will never be ran as action. The class of this method must be a valid controller.</p>
<p><strong>Arguments</strong></p>
<div class="list">
<div class="list-item">
    <code>name</code> : <code>string</code>
    <div class="list-tag">
        <tag type="required" />
    </div>
    <div class="list-desc">
        <p>
            Descriptive short name of action
        </p>
    </div>
</div>
<div class="list-item">
    <code>path</code> : <code>string | string[]</code>
    <div class="list-tag">
        <tag type="default"><code>'/'</code></tag>
    </div>
    <div class="list-desc">
        <p>
            Path or paths where action will be mounted
        </p>
        <p>
            All actions inside will be mounted inside of that path. So if controller is mounted under path <code>/user</code>, inside action will be mounted under <code>/login</code> then, as a result, the action will be registered under the path <code>/user/login</code>.
        </p>
    </div>
</div>
</div>
<p><strong>Example</strong> — <i>example controller</i></p>
<pre><code class="language-tsx">@asController({
    name: 'User',
    path: ['/', '/user'],
})
class User {
    @asAction({
        name: 'Login',
        path: '/login',
    })
    loginAction() {

    }
}
</code></pre>

            
                <h1 id="asController">
                    <a href="#asController">#</a>
                    asController
                </h1>
                <p>Decorator that allows you to set-up class as controller. Without that class will be ignored at controllers registration process.</p>
<p><strong>Arguments</strong></p>
<div class="list">
<div class="list-item">
    <code>name</code> : <code>string</code>
    <div class="list-tag">
        <tag type="required" />
    </div>
    <div class="list-desc">
        <p>
            Descriptive short name of controller
        </p>
    </div>
</div>
<div class="list-item">
    <code>path</code> : <code>string | string[]</code>
    <div class="list-tag">
        <tag type="default"><code>'/'</code></tag>
    </div>
    <div class="list-desc">
        <p>
            Path or paths where controller will be mounted
        </p>
        <p>
            All actions inside will be mounted inside of that path. So if controller is mounted under path <code>/user</code>, inside action will be mounted under <code>/login</code> then, as a result, the action will be registered under the path <code>/user/login</code>.
        </p>
    </div>
</div>
</div>
<p><strong>Example</strong> — <i>example controller</i></p>
<pre><code class="language-tsx">@asController({
    name: 'User',
    path: ['/', '/user'],
})
class User {
    // Actions here, e.g:
    // - /login
    // - /register
    // - /profile
    // - /logout
    // etc
    // so /login and /user/login will casue running above action
}
</code></pre>

            
                <h1 id="Each">
                    <a href="#Each">#</a>
                    Each
                </h1>
                <p>Component that allows you to render iterable variable. Works the best with <a href="#later">later</a> because it's possible to omit all rerendering stack and render only that list elements.</p>
<p><strong>Props</strong></p>
<div class="list">
<div class="list-item">
    <code>value</code> : <code><a href="#later">Later</a> | any[]</code>
    <div class="list-tag">
        <tag type="required" />
    </div>
    <div class="list-desc">
        <p>
            List of values that will be rendered
        </p>
    </div>
</div>
<div class="list-item">
    <code>render</code> : <code class="language-tsx">(item: any, index: number) => JSX.Element</code>
    <div class="list-tag">
        <tag type="required" />
    </div>
    <div class="list-desc">
        <p>
            Rendering function
        </p>
    </div>
</div>
</div>
<p><strong>Example #1</strong> — <i>raw usage</i></p>
<pre><code class="language-tsx">type Item = { id: number; name: string; };

const renderItem = (item: Item, index: number) =&gt; (
    &lt;div key={item.id}&gt;{item.name} at {index} position&lt;/div&gt;
);

const ExampleComponent = (props: { list: Item[] }) =&gt; (
    &lt;Each value={props.list} render={renderItem} /&gt;
);

// ExampleComponent need to be rerendered to rerender list
</code></pre>
<p>Example #2 - <a href="#later">later</a> usage</p>
<pre><code class="language-tsx">type Item = { id: number; name: string; };

// Create store holding that value
class Store {
    @observable // Mobx @observable decorator
    list: Item[] = [];
}
const store = new Store();

const renderItem = (item: Item, index: number) =&gt; (
    &lt;div key={item.id}&gt;{item.name} at {index} position&lt;/div&gt;
);

const ExampleComponent = () =&gt; (
    &lt;Each value={later(store, 'list')} render={renderItem} /&gt;
);

// ExampleComponent will be rendered once
</code></pre>

            
                <h1 id="If">
                    <a href="#If">#</a>
                    If
                </h1>
                <p>Component that allows you to render block conditionally. Works the best with <a href="#later">later</a> because it's possible to omit all rerendering stack and render only that block relating on pointed value.</p>
<p>Block inside will be rendered only if given value (or pointed value by <a href="#later">later</a>) will be <a href="https://developer.mozilla.org/en-US/docs/Glossary/Truthy"><strong>truthy</strong></a>.</p>
<p><strong>Props</strong></p>
<div class="list">
<div class="list-item">
    <code>value</code> : <code><a href="#later">Later</a> | any</code>
    <div class="list-tag">
        <tag type="required" />
    </div>
    <div class="list-desc">
        <p>
            Condition value
        </p>
    </div>
</div>
<div class="list-item">
    <code>children</code> : <code>JSX.Element</code>
    <div class="list-tag">
        <tag type="default"><code>undefined</code></tag>
    </div>
    <div class="list-desc">
        <p>
            Rendered content
        </p>
    </div>
</div>
</div>
<p><strong>Example #1</strong> — <i>raw usage</i></p>
<pre><code class="language-tsx">const ExampleComponent = (props: { showMessage: boolean }) =&gt; (
    &lt;If value={props.showMessage}&gt;
        Hello there
    &lt;/If&gt;
);

// ExampleComponent need to be rerendered to rerender new state of &lt;If/&gt; block
</code></pre>
<p>Example #2 - <a href="#later">later</a> usage</p>
<pre><code class="language-tsx">// Create store holding that value
class Store {
    @observable // Mobx @observable decorator
    showMessage = false;
}
const store = new Store();

const ExampleComponent = () =&gt; (
    &lt;If value={later(store, 'showMessage')}&gt;
        Hello there
    &lt;/If&gt;
);

// ExampleComponent will be rendered once, &lt;If/&gt; will be always synced with store
</code></pre>

            
                <h1 id="later">
                    <a href="#later">#</a>
                    later
                </h1>
                <p>Function that allows you to pack pointed value into recognizable box. Pointed value will be getted only at request, so any <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">Proxy getters</a> will be not fired before real usage. If such value will be getted in any kind of <a href="https://mobx.js.org/best/react.html">Mobx' observer context</a>, then you can to track such value with possibility to attach it as prop or argument for deeper usage.</p>
<p><strong>Props</strong></p>
<div class="list">
<div class="list-item">
    <code>target</code> : <code>object | any[]</code>
    <div class="list-tag">
        <tag type="required" />
    </div>
    <div class="list-desc">
        <p>
            Owner of observable value
        </p>
    </div>
</div>
<div class="list-item">
    <code>key</code> : <code>string | number</code>
    <div class="list-tag">
        <tag type="required" />
    </div>
    <div class="list-desc">
        <p>
            Name of property inside of target value
        </p>
    </div>
</div>
</div>
<strong>Returns</strong>
<div class="list">
<div class="list-item">
    <code>{ get: () => any }</code>
    <div class="list-desc">
        <p>
            Object with getter of pointed value
        </p>
    </div>
</div>
</div>
<p><strong>Example #1</strong> — <i>raw usage</i></p>
<pre><code class="language-typescript">class Store {
    @observable
    value = 'test?';
}
const store = new Store();

const value = later(store, 'value');

value.get(); // 'test?'

store.value = 'test!';

value.get(); // 'test!'
</code></pre>
<p><strong>Example #2</strong> — <i>deep anonymous usage</i></p>
<pre><code class="language-typescript">const logValueOnChange = (value: Later&lt;string&gt;) =&gt; {
    // value is SOME later value that returns string
    autorun(() =&gt; {
        console.log(value.get());
    });
};

class Store {
    @observable
    value = 'test?';
}
const store = new Store();
logValueOnChange(later(store, 'value')); // prints 'test?'
store.value = 'test!'; // prints 'test!'
</code></pre>

            
                <h1 id="Unless">
                    <a href="#Unless">#</a>
                    Unless
                </h1>
                <p>Component that has opposite effect than <a href="#If">If</a> component.</p>
<p><strong>Props</strong></p>
<div class="list">
<div class="list-item">
    <code>value</code> : <code><a href="#later">Later</a> | any</code>
    <div class="list-tag">
        <tag type="required" />
    </div>
    <div class="list-desc">
        <p>
            Condition value
        </p>
    </div>
</div>
<div class="list-item">
    <code>children</code> : <code>JSX.Element</code>
    <div class="list-tag">
        <tag type="default"><code>undefined</code></tag>
    </div>
    <div class="list-desc">
        <p>
            Rendered content
        </p>
    </div>
</div>
</div>

            
        </div>
    </body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.21.0/prism.min.js" integrity="sha512-WkVkkoB31AoI9DAk6SEEEyacH9etQXKUov4JRRuM1Y681VsTq7jYgrRw06cbP6Io7kPsKx+tLFpH/HXZSZ2YEQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.21.0/components/prism-typescript.min.js" integrity="sha512-5KnWNKu6jz8OE4nIBndz3PZ4O3RGqcPNcsyEFZkx3F5N8liSwc3bCe4qPOa/a3+e4CxVl0izHMXeZ0Z4yk7LTA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.21.0/components/prism-jsx.min.js" integrity="sha512-QORDihY3o14OZOxXmZxNbdPo4XkiD98/Wt/D8PQG5va4gLb63ZnCanJORVfpzetcJX/Dz4TTFT/I3oRe8O1/Sw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.21.0/components/prism-tsx.min.js" integrity="sha512-eDMuXl7Gh0FNL+G7rz0Gqiv9+sbuynK/TnKvrT0TU7nyfkfsO0MR2EERxdCxT7dkOHKlQAmS5CKv+p4XDZcKNQ==" crossorigin="anonymous"></script>
<body>